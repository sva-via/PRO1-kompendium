# Kapitel 19 – At forklare sit design

## 1. Introduktion

I PRO1 er det ikke tilstrækkeligt at kunne skrive fungerende kode. Du skal kunne forklare dine designvalg klart og præcist.

At forklare sit design er en faglig kompetence: Det viser, at du forstår ansvar, invariants, relationer og arkitektur – ikke blot syntaks.

## 2. Mundtlig argumentation

Når du forklarer dit design mundtligt, bør du strukturere din argumentation:

1) Hvad modellerer klassen?
2) Hvad er dens ansvar?
3) Hvad er dens invariant?
4) Hvordan samarbejder den med andre klasser?
5) Hvorfor har du valgt denne repræsentation?

Eksempel: Hvis du præsenterer Clock, kan du forklare, hvorfor du valgte totalSeconds frem for hour/minute/second. Argumentet kan være: færre invariants og enklere normalisering.

En god forklaring er konkret og kobler designvalg til domænekrav.

Undgå udsagn som:
- “Det virkede bare.”
- “Sådan plejer man at gøre.”
- “AI foreslog det.”

## 3. Hvad bedømmes i PRO1?

Bedømmelsen i PRO1 fokuserer på designforståelse – ikke kun korrekt output.

Typisk vurderes:
- Klar placering af ansvar
- Korrekt og beskyttet invariant
- Begrundede valg af relationer
- Lav coupling og rimelig cohesion
- Håndtering af exceptions
- Testtænkning

Hvis din klasse MyDate accepterer ugyldige datoer, er det ikke kun en implementeringsfejl – det er en designfejl.

Det samme gælder, hvis en klasse påtager sig for mange ansvar, eller hvis relationer ikke kan begrundes i domænet.

## 4. Gennemgående eksempel – Account

```
public class Account {

    private double balance;

    public Account(double initial) {
        if (initial < 0) {
            throw new IllegalArgumentException();
        }
        balance = initial;
    }

    public void withdraw(double amount) {
        if (amount > balance) {
            throw new IllegalStateException();
        }
        balance -= amount;
    }

    public double getBalance() {
        return balance;
    }
}
```
Når du forklarer denne klasse, kan du argumentere:
- Invariant: balance >= 0
- Ansvar: håndtere ind- og udbetalinger
- Exceptions beskytter invarianten
- Klassen håndterer ikke print eller databaseadgang (høj cohesion)

## 5. Designovervejelser

At kunne forklare sit design kræver, at designet faktisk er gennemtænkt.

Hvis du ikke kan forklare en beslutning, bør du overveje at revidere den.

God argumentation:
- Refererer til ansvar
- Refererer til invariant
- Refererer til domænet
- Er præcis og uden unødvendig teknisk støj

## 6. Typiske fejl og misforståelser

1) At forsvare syntaks frem for design.
2) At tale om implementeringsdetaljer i stedet for ansvar.
3) At mangle klar invariant.
4) At ikke kunne begrunde relationer mellem klasser.

## 7. Refleksionsspørgsmål

1) Kan du formulere invarianten for dine centrale klasser uden at se i koden?
2) Kan du forklare, hvorfor dine relationer er association, aggregation eller composition?
3) Hvilke designvalg i dit projekt er sværest at begrunde?

## 8. Små øvelser

Øvelse 1: Vælg en klasse fra dit projekt og skriv en kort mundtlig præsentation (maks. 2 minutter), hvor du forklarer ansvar og invariant.

Øvelse 2: Lad en medstuderende stille kritiske spørgsmål til dit design. Identificér hvilke svar der var uklare.
